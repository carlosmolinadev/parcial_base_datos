USE BDInmobiliaria
GO
 
CREATE PROCEDURE INGRESAR_INQUILINOS
  @COD_USUA CHAR(6),
  @NOM_AVAL_INQ VARCHAR(30),
  @APELL_AVAL VARCHAR(30),
  @HABER_BAS_INQ MONEY,
  @EST_CIVIL_INQ CHAR(6),
  @LUG_TRAB_INQ VARCHAR(50)
AS
BEGIN
  BEGIN TRY
    BEGIN TRAN
      INSERT COMERCIAL.INQUILINO VALUES (@COD_USUA, @NOM_AVAL_INQ, @APELL_AVAL, @HABER_BAS_INQ, @EST_CIVIL_INQ, @LUG_TRAB_INQ)
    COMMIT TRAN
  END TRY
  BEGIN CATCH
    IF @@ERROR <> 0
    BEGIN
      ROLLBACK TRAN
      PRINT 'INQUILINO DUPLICADO'
    END
  END CATCH
END
